/*
 * QEMU Motorla 680x0 Macintosh hardware System Emulator
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */

#include "qemu/osdep.h"
#include "qemu/units.h"
#include "qemu/datadir.h"
#include "qemu/guest-random.h"
#include "sysemu/sysemu.h"
#include "cpu.h"
#include "hw/boards.h"
#include "hw/or-irq.h"
#include "hw/nmi.h"
#include "elf.h"
#include "hw/loader.h"
#include "ui/console.h"
#include "hw/char/escc.h"
#include "hw/sysbus.h"
#include "hw/scsi/esp.h"
#include "standard-headers/asm-m68k/bootinfo.h"
#include "standard-headers/asm-m68k/bootinfo-mac.h"
#include "bootinfo.h"
#include "hw/misc/mac_via.h"
#include "hw/input/adb.h"
#include "hw/nubus/mac-nubus-bridge.h"
#include "hw/display/macfb.h"
#include "hw/block/swim.h"
#include "net/net.h"
#include "qapi/error.h"
#include "sysemu/qtest.h"
#include "sysemu/runstate.h"
#include "sysemu/reset.h"
#include "migration/vmstate.h"

#define MACROM_ADDR     0x40800000
#define MACROM_SIZE     0x00100000

#define MACROM_FILENAME "MacROM.bin"

#define IO_BASE               0x50000000
#define IO_SLICE              0x00040000
#define IO_SIZE               0x04000000

#define VIA_BASE              (IO_BASE + 0x00000)
#define SONIC_PROM_BASE       (IO_BASE + 0x08000)
#define SONIC_BASE            (IO_BASE + 0x0a000)
#define SCC_BASE              (IO_BASE + 0x0c020)
#define ESP_BASE              (IO_BASE + 0x10000)
#define ESP_PDMA              (IO_BASE + 0x10100)
#define ASC_BASE              (IO_BASE + 0x14000)
#define SWIM_BASE             (IO_BASE + 0x1E000)

#define SONIC_PROM_SIZE       0x1000

/*
 * the video base, whereas it a Nubus address,
 * is needed by the kernel to have early display and
 * thus provided by the bootloader
 */
#define VIDEO_BASE            0xf9000000

#define MAC_CLOCK  3686418

/*
 * Slot 0x9 is reserved for use by the in-built framebuffer whilst only
 * slots 0xc, 0xd and 0xe physically exist on the Quadra 800
 */
#define Q800_NUBUS_SLOTS_AVAILABLE    (BIT(0x9) | BIT(0xc) | BIT(0xd) | \
                                       BIT(0xe))

/*
 * The GLUE (General Logic Unit) is an Apple custom integrated circuit chip
 * that performs a variety of functions (RAM management, clock generation, ...).
 * The GLUE chip receives interrupt requests from various devices,
 * assign priority to each, and asserts one or more interrupt line to the
 * CPU.
 */

#define TYPE_GLUE "q800-glue"
OBJECT_DECLARE_SIMPLE_TYPE(GLUEState, GLUE)

struct GLUEState {
    SysBusDevice parent_obj;
    M68kCPU *cpu;
    uint8_t ipr;
    uint8_t auxmode;
    qemu_irq irqs[1];
    QEMUTimer *nmi_release;
};

#define GLUE_IRQ_IN_VIA1       0
#define GLUE_IRQ_IN_VIA2       1
#define GLUE_IRQ_IN_SONIC      2
#define GLUE_IRQ_IN_ESCC       3
#define GLUE_IRQ_IN_NMI        4

#define GLUE_IRQ_NUBUS_9       0

/*
 * The GLUE logic on the Quadra 800 supports 2 different IRQ routing modes
 * controlled from the VIA1 auxmode GPIO (port B bit 6) which are documented
 * in NetBSD as follows:
 *
 * A/UX mode (Linux, NetBSD, auxmode GPIO low)
 *
 *   Level 0:        Spurious: ignored
 *   Level 1:        Software
 *   Level 2:        VIA2 (except ethernet, sound)
 *   Level 3:        Ethernet
 *   Level 4:        Serial (SCC)
 *   Level 5:        Sound
 *   Level 6:        VIA1
 *   Level 7:        NMIs: parity errors, RESET button, YANCC error
 *
 * Classic mode (default: used by MacOS, A/UX 3.0.1, auxmode GPIO high)
 *
 *   Level 0:        Spurious: ignored
 *   Level 1:        VIA1 (clock, ADB)
 *   Level 2:        VIA2 (NuBus, SCSI)
 *   Level 3:
 *   Level 4:        Serial (SCC)
 *   Level 5:
 *   Level 6:
 *   Level 7:        Non-maskable: parity errors, RESET button
 *
 * Note that despite references to A/UX mode in Linux and NetBSD, at least
 * A/UX 3.0.1 still uses Classic mode.
 */

static void GLUE_set_irq(void *opaque, int irq, int level)
{
    GLUEState *s = opaque;
    int i;

    if (s->auxmode) {
        /* Classic mode */
        switch (irq) {
        case GLUE_IRQ_IN_VIA1:
            irq = 0;
            break;

        case GLUE_IRQ_IN_VIA2:
            irq = 1;
            break;

        case GLUE_IRQ_IN_SONIC:
            /* Route to VIA2 instead */
            qemu_set_irq(s->irqs[GLUE_IRQ_NUBUS_9], level);
            return;

        case GLUE_IRQ_IN_ESCC:
            irq = 3;
            break;

        case GLUE_IRQ_IN_NMI:
            irq = 6;
            break;

        default:
            g_assert_not_reached();
        }
    } else {
        /* A/UX mode */
        switch (irq) {
        case GLUE_IRQ_IN_VIA1:
            irq = 5;
            break;

        case GLUE_IRQ_IN_VIA2:
            irq = 1;
            break;

        case GLUE_IRQ_IN_SONIC:
            irq = 2;
            break;

        case GLUE_IRQ_IN_ESCC:
            irq = 3;
            break;

        case GLUE_IRQ_IN_NMI:
            irq = 6;
            break;

        default:
            g_assert_not_reached();
        }
    }

    if (level) {
        s->ipr |= 1 << irq;
    } else {
        s->ipr &= ~(1 << irq);
    }

    for (i = 7; i >= 0; i--) {
        if ((s->ipr >> i) & 1) {
            m68k_set_irq_level(s->cpu, i + 1, i + 25);
            return;
        }
    }
    m68k_set_irq_level(s->cpu, 0, 0);
}

static void glue_auxmode_set_irq(void *opaque, int irq, int level)
{
    GLUEState *s = GLUE(opaque);

    s->auxmode = level;
}

static void glue_nmi(NMIState *n, int cpu_index, Error **errp)
{
    GLUEState *s = GLUE(n);

    /* Hold NMI active for 100ms */
    GLUE_set_irq(s, GLUE_IRQ_IN_NMI, 1);
    timer_mod(s->nmi_release, qemu_clock_get_ms(QEMU_CLOCK_VIRTUAL) + 100);
}

static void glue_nmi_release(void *opaque)
{
    GLUEState *s = GLUE(opaque);

    GLUE_set_irq(s, GLUE_IRQ_IN_NMI, 0);
}

static void glue_reset(DeviceState *dev)
{
    GLUEState *s = GLUE(dev);

    s->ipr = 0;
    s->auxmode = 0;

    timer_del(s->nmi_release);
}

static const VMStateDescription vmstate_glue = {
    .name = "q800-glue",
    .version_id = 0,
    .minimum_version_id = 0,
    .fields = (VMStateField[]) {
        VMSTATE_UINT8(ipr, GLUEState),
        VMSTATE_UINT8(auxmode, GLUEState),
        VMSTATE_TIMER_PTR(nmi_release, GLUEState),
        VMSTATE_END_OF_LIST(),
    },
};

/*
 * If the m68k CPU implemented its inbound irq lines as GPIO lines
 * rather than via the m68k_set_irq_level() function we would not need
 * this cpu link property and could instead provide outbound IRQ lines
 * that the board could wire up to the CPU.
 */
static Property glue_properties[] = {
    DEFINE_PROP_LINK("cpu", GLUEState, cpu, TYPE_M68K_CPU, M68kCPU *),
    DEFINE_PROP_END_OF_LIST(),
};

static void glue_finalize(Object *obj)
{
    GLUEState *s = GLUE(obj);

    timer_free(s->nmi_release);
}

static void glue_init(Object *obj)
{
    DeviceState *dev = DEVICE(obj);
    GLUEState *s = GLUE(dev);

    qdev_init_gpio_in(dev, GLUE_set_irq, 8);
    qdev_init_gpio_in_named(dev, glue_auxmode_set_irq, "auxmode", 1);

    qdev_init_gpio_out(dev, s->irqs, 1);

    /* NMI release timer */
    s->nmi_release = timer_new_ms(QEMU_CLOCK_VIRTUAL, glue_nmi_release, s);
}

static void glue_class_init(ObjectClass *klass, void *data)
{
    DeviceClass *dc = DEVICE_CLASS(klass);
    NMIClass *nc = NMI_CLASS(klass);

    dc->vmsd = &vmstate_glue;
    dc->reset = glue_reset;
    device_class_set_props(dc, glue_properties);
    nc->nmi_monitor_handler = glue_nmi;
}

static const TypeInfo glue_info = {
    .name = TYPE_GLUE,
    .parent = TYPE_SYS_BUS_DEVICE,
    .instance_size = sizeof(GLUEState),
    .instance_init = glue_init,
    .instance_finalize = glue_finalize,
    .class_init = glue_class_init,
    .interfaces = (InterfaceInfo[]) {
         { TYPE_NMI },
         { }
    },
};

static void main_cpu_reset(void *opaque)
{
    M68kCPU *cpu = opaque;
    CPUState *cs = CPU(cpu);

    cpu_reset(cs);
    cpu->env.aregs[7] = 0x1000;
    cpu->env.pc = MACROM_ADDR + (100 * 56);
}

static uint8_t fake_mac_rom[] = {
    /*
     * fmodrem test table taken from real 68040. Format is:
     *     12 bytes: FP0
     *     12 bytes: FP1
     *     12 bytes: result of fremx %fp0, %fp2
     *      4 bytes: FPSR after fremx
     *     12 bytes: result of fmodx %fp0, %fp3
     *      4 bytes: FPSR after fmodx
     *
     * Total entry size: 56 bytes
     *
     * The test program below hangs when it completes and the exit
     * condition can be determined using the monitor via "info
     * registers" command as follows:
     *
     *     D7 is the test number (0-99)
     *     D6 is the error code
     *         0 = no error
     *         1 = frem result incorrect
     *         2 = frem fpsr result incorrect
     *         3 = fmod result incorrect
     *         4 = fmod fpsr result incorrect
     *     D2 is the actual result of the long comparison
     *     D1 is the expected result of the long comparison
     *
     * A successful termination of the test program is when D7 == 100
     * and D6 == 0.
     */

    /*** 0: -2.35619449019234493000 % -1.57079632679489662000 ***/
    0xC0,0x00,0x00,0x00,0x96,0xCB,0xE3,0xF9,0x99,0x0E,0x91,0xAC,
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.78539816339744830980, quotient = +2 */
    0x3F,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x38,
    0x00,0x02,0x00,0x00,
    /* fmod = -0.78539816339744831000, quotient = +1 */
    0xBF,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3C,
    0x08,0x01,0x00,0x00,

    /*** 1: -1.57079632679489662000 % -1.57079632679489662000 ***/
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -0.00000000000000000000, quotient = +1 */
    0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x0C,0x01,0x00,0x00,
    /* fmod = -0.00000000000000000000, quotient = +1 */
    0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x0C,0x01,0x00,0x00,

    /*** 2: -1.00000000000000000000 % -1.57079632679489662000 ***/
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.57079632679489661980, quotient = +1 */
    0x3F,0xFE,0x00,0x00,0x92,0x1F,0xB5,0x44,0x42,0xD1,0x84,0x74,
    0x00,0x01,0x00,0x00,
    /* fmod = -1.00000000000000000000, quotient = +0 */
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x08,0x00,0x00,0x00,

    /*** 3: -0.78539816339744830990 % -1.57079632679489662000 ***/
    0xBF,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -0.78539816339744830990, quotient = +0 */
    0xBF,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x08,0x00,0x00,0x00,
    /* fmod = -0.78539816339744830990, quotient = +0 */
    0xBF,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x08,0x00,0x00,0x00,

    /*** 4: 0.00000000000000000000 % -1.57079632679489662000 ***/
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.00000000000000000000, quotient = -0 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x80,0x00,0x00,
    /* fmod = 0.00000000000000000000, quotient = -0 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x80,0x00,0x00,

    /*** 5: 0.78539816339744830990 % -1.57079632679489662000 ***/
    0x3F,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.78539816339744830990, quotient = -0 */
    0x3F,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x00,0x80,0x00,0x00,
    /* fmod = 0.78539816339744830990, quotient = -0 */
    0x3F,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x00,0x80,0x00,0x00,

    /*** 6: 1.00000000000000000000 % -1.57079632679489662000 ***/
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -0.57079632679489661980, quotient = -1 */
    0xBF,0xFE,0x00,0x00,0x92,0x1F,0xB5,0x44,0x42,0xD1,0x84,0x74,
    0x08,0x81,0x00,0x00,
    /* fmod = 1.00000000000000000000, quotient = -0 */
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x80,0x00,0x00,

    /*** 7: 1.57079632679489662000 % -1.57079632679489662000 ***/
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.00000000000000000000, quotient = -1 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x81,0x00,0x00,
    /* fmod = 0.00000000000000000000, quotient = -1 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x81,0x00,0x00,

    /*** 8: 2.35619449019234493000 % -1.57079632679489662000 ***/
    0x40,0x00,0x00,0x00,0x96,0xCB,0xE3,0xF9,0x99,0x0E,0x91,0xAC,
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -0.78539816339744830980, quotient = -2 */
    0xBF,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x38,
    0x08,0x82,0x00,0x00,
    /* fmod = 0.78539816339744831000, quotient = -1 */
    0x3F,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3C,
    0x00,0x81,0x00,0x00,

    /*** 9: 3.14159265358979324000 % -1.57079632679489662000 ***/
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.00000000000000000000, quotient = -2 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x82,0x00,0x00,
    /* fmod = 0.00000000000000000000, quotient = -2 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x82,0x00,0x00,

    /*** 10: 4.39822971502571053500 % -1.57079632679489662000 ***/
    0x40,0x01,0x00,0x00,0x8C,0xBE,0x4C,0x3E,0x4A,0x96,0x21,0x8F,
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -0.31415926535897932400, quotient = -3 */
    0xBF,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,
    0x08,0x83,0x00,0x00,
    /* fmod = 1.25663706143591729600, quotient = -2 */
    0x3F,0xFF,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,
    0x00,0x82,0x00,0x00,

    /*** 11: 4.71238898038468986000 % -1.57079632679489662000 ***/
    0x40,0x01,0x00,0x00,0x96,0xCB,0xE3,0xF9,0x99,0x0E,0x91,0xAC,
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.00000000000000000022, quotient = -3 */
    0x3F,0xC1,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x83,0x00,0x00,
    /* fmod = 0.00000000000000000022, quotient = -3 */
    0x3F,0xC1,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x83,0x00,0x00,

    /*** 12: 5.02654824574366918300 % -1.57079632679489662000 ***/
    0x40,0x01,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.31415926535897932400, quotient = -3 */
    0x3F,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,
    0x00,0x83,0x00,0x00,
    /* fmod = 0.31415926535897932400, quotient = -3 */
    0x3F,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,
    0x00,0x83,0x00,0x00,

    /*** 13: 5.65486677646162783100 % -1.57079632679489662000 ***/
    0x40,0x01,0x00,0x00,0xB4,0xF4,0xAB,0x2B,0x84,0x77,0xE2,0x01,
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -0.62831853071795864790, quotient = -4 */
    0xBF,0xFE,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,
    0x08,0x84,0x00,0x00,
    /* fmod = 0.94247779607693797190, quotient = -3 */
    0x3F,0xFE,0x00,0x00,0xF1,0x46,0x39,0x8F,0x5B,0x4A,0x82,0xAC,
    0x00,0x83,0x00,0x00,

    /*** 14: 6.59734457253856580300 % -1.57079632679489662000 ***/
    0x40,0x01,0x00,0x00,0xD3,0x1D,0x72,0x5D,0x6F,0xE1,0x32,0x56,
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.31415926535897932370, quotient = -4 */
    0x3F,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC0,
    0x00,0x84,0x00,0x00,
    /* fmod = 0.31415926535897932370, quotient = -4 */
    0x3F,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC0,
    0x00,0x84,0x00,0x00,

    /*** 15: 7.53982236861550377500 % -1.57079632679489662000 ***/
    0x40,0x01,0x00,0x00,0xF1,0x46,0x39,0x8F,0x5B,0x4A,0x82,0xAD,
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -0.31415926535897932350, quotient = -5 */
    0xBF,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xB8,
    0x08,0x85,0x00,0x00,
    /* fmod = 1.25663706143591729600, quotient = -4 */
    0x3F,0xFF,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xCC,
    0x00,0x84,0x00,0x00,

    /*** 16: 8.16814089933346242300 % -1.57079632679489662000 ***/
    0x40,0x02,0x00,0x00,0x82,0xB0,0xB4,0x82,0xFC,0x1D,0xB1,0x72,
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.31415926535897932350, quotient = -5 */
    0x3F,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xB8,
    0x00,0x85,0x00,0x00,
    /* fmod = 0.31415926535897932350, quotient = -5 */
    0x3F,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xB8,
    0x00,0x85,0x00,0x00,

    /*** 17: 9.11061869541040039500 % -1.57079632679489662000 ***/
    0x40,0x02,0x00,0x00,0x91,0xC5,0x18,0x1B,0xF1,0xD2,0x59,0x9E,
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -0.31415926535897932330, quotient = -6 */
    0xBF,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xB0,
    0x08,0x86,0x00,0x00,
    /* fmod = 1.25663706143591729600, quotient = -5 */
    0x3F,0xFF,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xCE,
    0x00,0x85,0x00,0x00,

    /*** 18: 9.42477796076937971900 % -1.57079632679489662000 ***/
    0x40,0x02,0x00,0x00,0x96,0xCB,0xE3,0xF9,0x99,0x0E,0x91,0xAC,
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.00000000000000000043, quotient = -6 */
    0x3F,0xC2,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x86,0x00,0x00,
    /* fmod = 0.00000000000000000043, quotient = -6 */
    0x3F,0xC2,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x86,0x00,0x00,

    /*** 19: 9.73893722612835904200 % -1.57079632679489662000 ***/
    0x40,0x02,0x00,0x00,0x9B,0xD2,0xAF,0xD7,0x40,0x4A,0xC9,0xB9,
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.31415926535897932330, quotient = -6 */
    0x3F,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xB0,
    0x00,0x86,0x00,0x00,
    /* fmod = 0.31415926535897932330, quotient = -6 */
    0x3F,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xB0,
    0x00,0x86,0x00,0x00,

    /*** 20: -2.35619449019234493000 % -1.00000000000000000000 ***/
    0xC0,0x00,0x00,0x00,0x96,0xCB,0xE3,0xF9,0x99,0x0E,0x91,0xAC,
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = -0.35619449019234492980, quotient = +2 */
    0xBF,0xFD,0x00,0x00,0xB6,0x5F,0x1F,0xCC,0xC8,0x74,0x8D,0x60,
    0x08,0x02,0x00,0x00,
    /* fmod = -0.35619449019234492980, quotient = +2 */
    0xBF,0xFD,0x00,0x00,0xB6,0x5F,0x1F,0xCC,0xC8,0x74,0x8D,0x60,
    0x08,0x02,0x00,0x00,

    /*** 21: -1.57079632679489662000 % -1.00000000000000000000 ***/
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = 0.42920367320510338020, quotient = +2 */
    0x3F,0xFD,0x00,0x00,0xDB,0xC0,0x95,0x77,0x7A,0x5C,0xF7,0x18,
    0x00,0x02,0x00,0x00,
    /* fmod = -0.57079632679489661980, quotient = +1 */
    0xBF,0xFE,0x00,0x00,0x92,0x1F,0xB5,0x44,0x42,0xD1,0x84,0x74,
    0x08,0x01,0x00,0x00,

    /*** 22: -1.00000000000000000000 % -1.00000000000000000000 ***/
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = -0.00000000000000000000, quotient = +1 */
    0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x0C,0x01,0x00,0x00,
    /* fmod = -0.00000000000000000000, quotient = +1 */
    0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x0C,0x01,0x00,0x00,

    /*** 23: -0.78539816339744830990 % -1.00000000000000000000 ***/
    0xBF,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = 0.21460183660255169010, quotient = +1 */
    0x3F,0xFC,0x00,0x00,0xDB,0xC0,0x95,0x77,0x7A,0x5C,0xF7,0x18,
    0x00,0x01,0x00,0x00,
    /* fmod = -0.78539816339744830990, quotient = +0 */
    0xBF,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x08,0x00,0x00,0x00,

    /*** 24: 0.00000000000000000000 % -1.00000000000000000000 ***/
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = 0.00000000000000000000, quotient = -0 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x80,0x00,0x00,
    /* fmod = 0.00000000000000000000, quotient = -0 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x80,0x00,0x00,

    /*** 25: 0.78539816339744830990 % -1.00000000000000000000 ***/
    0x3F,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = -0.21460183660255169010, quotient = -1 */
    0xBF,0xFC,0x00,0x00,0xDB,0xC0,0x95,0x77,0x7A,0x5C,0xF7,0x18,
    0x08,0x81,0x00,0x00,
    /* fmod = 0.78539816339744830990, quotient = -0 */
    0x3F,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x00,0x80,0x00,0x00,

    /*** 26: 1.00000000000000000000 % -1.00000000000000000000 ***/
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = 0.00000000000000000000, quotient = -1 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x81,0x00,0x00,
    /* fmod = 0.00000000000000000000, quotient = -1 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x81,0x00,0x00,

    /*** 27: 1.57079632679489662000 % -1.00000000000000000000 ***/
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = -0.42920367320510338020, quotient = -2 */
    0xBF,0xFD,0x00,0x00,0xDB,0xC0,0x95,0x77,0x7A,0x5C,0xF7,0x18,
    0x08,0x82,0x00,0x00,
    /* fmod = 0.57079632679489661980, quotient = -1 */
    0x3F,0xFE,0x00,0x00,0x92,0x1F,0xB5,0x44,0x42,0xD1,0x84,0x74,
    0x00,0x81,0x00,0x00,

    /*** 28: 2.35619449019234493000 % -1.00000000000000000000 ***/
    0x40,0x00,0x00,0x00,0x96,0xCB,0xE3,0xF9,0x99,0x0E,0x91,0xAC,
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = 0.35619449019234492980, quotient = -2 */
    0x3F,0xFD,0x00,0x00,0xB6,0x5F,0x1F,0xCC,0xC8,0x74,0x8D,0x60,
    0x00,0x82,0x00,0x00,
    /* fmod = 0.35619449019234492980, quotient = -2 */
    0x3F,0xFD,0x00,0x00,0xB6,0x5F,0x1F,0xCC,0xC8,0x74,0x8D,0x60,
    0x00,0x82,0x00,0x00,

    /*** 29: 3.14159265358979324000 % -1.00000000000000000000 ***/
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = 0.14159265358979323960, quotient = -3 */
    0x3F,0xFC,0x00,0x00,0x90,0xFD,0xAA,0x22,0x16,0x8C,0x23,0xA0,
    0x00,0x83,0x00,0x00,
    /* fmod = 0.14159265358979323960, quotient = -3 */
    0x3F,0xFC,0x00,0x00,0x90,0xFD,0xAA,0x22,0x16,0x8C,0x23,0xA0,
    0x00,0x83,0x00,0x00,

    /*** 30: 4.39822971502571053500 % -1.00000000000000000000 ***/
    0x40,0x01,0x00,0x00,0x8C,0xBE,0x4C,0x3E,0x4A,0x96,0x21,0x8F,
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = 0.39822971502571053540, quotient = -4 */
    0x3F,0xFD,0x00,0x00,0xCB,0xE4,0xC3,0xE4,0xA9,0x62,0x18,0xF0,
    0x00,0x84,0x00,0x00,
    /* fmod = 0.39822971502571053540, quotient = -4 */
    0x3F,0xFD,0x00,0x00,0xCB,0xE4,0xC3,0xE4,0xA9,0x62,0x18,0xF0,
    0x00,0x84,0x00,0x00,

    /*** 31: 4.71238898038468986000 % -1.00000000000000000000 ***/
    0x40,0x01,0x00,0x00,0x96,0xCB,0xE3,0xF9,0x99,0x0E,0x91,0xAC,
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = -0.28761101961531014040, quotient = -5 */
    0xBF,0xFD,0x00,0x00,0x93,0x41,0xC0,0x66,0x6F,0x16,0xE5,0x40,
    0x08,0x85,0x00,0x00,
    /* fmod = 0.71238898038468985960, quotient = -4 */
    0x3F,0xFE,0x00,0x00,0xB6,0x5F,0x1F,0xCC,0xC8,0x74,0x8D,0x60,
    0x00,0x84,0x00,0x00,

    /*** 32: 5.02654824574366918300 % -1.00000000000000000000 ***/
    0x40,0x01,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = 0.02654824574366918336, quotient = -5 */
    0x3F,0xF9,0x00,0x00,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,0x00,
    0x00,0x85,0x00,0x00,
    /* fmod = 0.02654824574366918336, quotient = -5 */
    0x3F,0xF9,0x00,0x00,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,0x00,
    0x00,0x85,0x00,0x00,

    /*** 33: 5.65486677646162783100 % -1.00000000000000000000 ***/
    0x40,0x01,0x00,0x00,0xB4,0xF4,0xAB,0x2B,0x84,0x77,0xE2,0x01,
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = -0.34513322353837216870, quotient = -6 */
    0xBF,0xFD,0x00,0x00,0xB0,0xB5,0x4D,0x47,0xB8,0x81,0xDF,0xF0,
    0x08,0x86,0x00,0x00,
    /* fmod = 0.65486677646162783130, quotient = -5 */
    0x3F,0xFE,0x00,0x00,0xA7,0xA5,0x59,0x5C,0x23,0xBF,0x10,0x08,
    0x00,0x85,0x00,0x00,

    /*** 34: 6.59734457253856580300 % -1.00000000000000000000 ***/
    0x40,0x01,0x00,0x00,0xD3,0x1D,0x72,0x5D,0x6F,0xE1,0x32,0x56,
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = -0.40265542746143419710, quotient = -7 */
    0xBF,0xFD,0x00,0x00,0xCE,0x28,0xDA,0x29,0x01,0xEC,0xDA,0xA0,
    0x08,0x87,0x00,0x00,
    /* fmod = 0.59734457253856580290, quotient = -6 */
    0x3F,0xFE,0x00,0x00,0x98,0xEB,0x92,0xEB,0x7F,0x09,0x92,0xB0,
    0x00,0x86,0x00,0x00,

    /*** 35: 7.53982236861550377500 % -1.00000000000000000000 ***/
    0x40,0x01,0x00,0x00,0xF1,0x46,0x39,0x8F,0x5B,0x4A,0x82,0xAD,
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = -0.46017763138449622450, quotient = -8 */
    0xBF,0xFD,0x00,0x00,0xEB,0x9C,0x67,0x0A,0x4B,0x57,0xD5,0x30,
    0x08,0x88,0x00,0x00,
    /* fmod = 0.53982236861550377550, quotient = -7 */
    0x3F,0xFE,0x00,0x00,0x8A,0x31,0xCC,0x7A,0xDA,0x54,0x15,0x68,
    0x00,0x87,0x00,0x00,

    /*** 36: 8.16814089933346242300 % -1.00000000000000000000 ***/
    0x40,0x02,0x00,0x00,0x82,0xB0,0xB4,0x82,0xFC,0x1D,0xB1,0x72,
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = 0.16814089933346242250, quotient = -8 */
    0x3F,0xFC,0x00,0x00,0xAC,0x2D,0x20,0xBF,0x07,0x6C,0x5C,0x80,
    0x00,0x88,0x00,0x00,
    /* fmod = 0.16814089933346242250, quotient = -8 */
    0x3F,0xFC,0x00,0x00,0xAC,0x2D,0x20,0xBF,0x07,0x6C,0x5C,0x80,
    0x00,0x88,0x00,0x00,

    /*** 37: 9.11061869541040039500 % -1.00000000000000000000 ***/
    0x40,0x02,0x00,0x00,0x91,0xC5,0x18,0x1B,0xF1,0xD2,0x59,0x9E,
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = 0.11061869541040039550, quotient = -9 */
    0x3F,0xFB,0x00,0x00,0xE2,0x8C,0x0D,0xF8,0xE9,0x2C,0xCF,0x00,
    0x00,0x89,0x00,0x00,
    /* fmod = 0.11061869541040039550, quotient = -9 */
    0x3F,0xFB,0x00,0x00,0xE2,0x8C,0x0D,0xF8,0xE9,0x2C,0xCF,0x00,
    0x00,0x89,0x00,0x00,

    /*** 38: 9.42477796076937971900 % -1.00000000000000000000 ***/
    0x40,0x02,0x00,0x00,0x96,0xCB,0xE3,0xF9,0x99,0x0E,0x91,0xAC,
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = 0.42477796076937971920, quotient = -9 */
    0x3F,0xFD,0x00,0x00,0xD9,0x7C,0x7F,0x33,0x21,0xD2,0x35,0x80,
    0x00,0x89,0x00,0x00,
    /* fmod = 0.42477796076937971920, quotient = -9 */
    0x3F,0xFD,0x00,0x00,0xD9,0x7C,0x7F,0x33,0x21,0xD2,0x35,0x80,
    0x00,0x89,0x00,0x00,

    /*** 39: 9.73893722612835904200 % -1.00000000000000000000 ***/
    0x40,0x02,0x00,0x00,0x9B,0xD2,0xAF,0xD7,0x40,0x4A,0xC9,0xB9,
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = -0.26106277387164095790, quotient = -10 */
    0xBF,0xFD,0x00,0x00,0x85,0xAA,0x05,0x17,0xF6,0xA6,0xC8,0xE0,
    0x08,0x8A,0x00,0x00,
    /* fmod = 0.73893722612835904210, quotient = -9 */
    0x3F,0xFE,0x00,0x00,0xBD,0x2A,0xFD,0x74,0x04,0xAC,0x9B,0x90,
    0x00,0x89,0x00,0x00,

    /*** 40: -2.35619449019234493000 % 1.00000000000000000000 ***/
    0xC0,0x00,0x00,0x00,0x96,0xCB,0xE3,0xF9,0x99,0x0E,0x91,0xAC,
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = -0.35619449019234492980, quotient = -2 */
    0xBF,0xFD,0x00,0x00,0xB6,0x5F,0x1F,0xCC,0xC8,0x74,0x8D,0x60,
    0x08,0x82,0x00,0x00,
    /* fmod = -0.35619449019234492980, quotient = -2 */
    0xBF,0xFD,0x00,0x00,0xB6,0x5F,0x1F,0xCC,0xC8,0x74,0x8D,0x60,
    0x08,0x82,0x00,0x00,

    /*** 41: -1.57079632679489662000 % 1.00000000000000000000 ***/
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = 0.42920367320510338020, quotient = -2 */
    0x3F,0xFD,0x00,0x00,0xDB,0xC0,0x95,0x77,0x7A,0x5C,0xF7,0x18,
    0x00,0x82,0x00,0x00,
    /* fmod = -0.57079632679489661980, quotient = -1 */
    0xBF,0xFE,0x00,0x00,0x92,0x1F,0xB5,0x44,0x42,0xD1,0x84,0x74,
    0x08,0x81,0x00,0x00,

    /*** 42: -1.00000000000000000000 % 1.00000000000000000000 ***/
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = -0.00000000000000000000, quotient = -1 */
    0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x0C,0x81,0x00,0x00,
    /* fmod = -0.00000000000000000000, quotient = -1 */
    0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x0C,0x81,0x00,0x00,

    /*** 43: -0.78539816339744830990 % 1.00000000000000000000 ***/
    0xBF,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = 0.21460183660255169010, quotient = -1 */
    0x3F,0xFC,0x00,0x00,0xDB,0xC0,0x95,0x77,0x7A,0x5C,0xF7,0x18,
    0x00,0x81,0x00,0x00,
    /* fmod = -0.78539816339744830990, quotient = -0 */
    0xBF,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x08,0x80,0x00,0x00,

    /*** 44: 0.00000000000000000000 % 1.00000000000000000000 ***/
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = 0.00000000000000000000, quotient = +0 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x00,0x00,0x00,
    /* fmod = 0.00000000000000000000, quotient = +0 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x00,0x00,0x00,

    /*** 45: 0.78539816339744830990 % 1.00000000000000000000 ***/
    0x3F,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = -0.21460183660255169010, quotient = +1 */
    0xBF,0xFC,0x00,0x00,0xDB,0xC0,0x95,0x77,0x7A,0x5C,0xF7,0x18,
    0x08,0x01,0x00,0x00,
    /* fmod = 0.78539816339744830990, quotient = +0 */
    0x3F,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x00,0x00,0x00,0x00,

    /*** 46: 1.00000000000000000000 % 1.00000000000000000000 ***/
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = 0.00000000000000000000, quotient = +1 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x01,0x00,0x00,
    /* fmod = 0.00000000000000000000, quotient = +1 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x01,0x00,0x00,

    /*** 47: 1.57079632679489662000 % 1.00000000000000000000 ***/
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = -0.42920367320510338020, quotient = +2 */
    0xBF,0xFD,0x00,0x00,0xDB,0xC0,0x95,0x77,0x7A,0x5C,0xF7,0x18,
    0x08,0x02,0x00,0x00,
    /* fmod = 0.57079632679489661980, quotient = +1 */
    0x3F,0xFE,0x00,0x00,0x92,0x1F,0xB5,0x44,0x42,0xD1,0x84,0x74,
    0x00,0x01,0x00,0x00,

    /*** 48: 2.35619449019234493000 % 1.00000000000000000000 ***/
    0x40,0x00,0x00,0x00,0x96,0xCB,0xE3,0xF9,0x99,0x0E,0x91,0xAC,
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = 0.35619449019234492980, quotient = +2 */
    0x3F,0xFD,0x00,0x00,0xB6,0x5F,0x1F,0xCC,0xC8,0x74,0x8D,0x60,
    0x00,0x02,0x00,0x00,
    /* fmod = 0.35619449019234492980, quotient = +2 */
    0x3F,0xFD,0x00,0x00,0xB6,0x5F,0x1F,0xCC,0xC8,0x74,0x8D,0x60,
    0x00,0x02,0x00,0x00,

    /*** 49: 3.14159265358979324000 % 1.00000000000000000000 ***/
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = 0.14159265358979323960, quotient = +3 */
    0x3F,0xFC,0x00,0x00,0x90,0xFD,0xAA,0x22,0x16,0x8C,0x23,0xA0,
    0x00,0x03,0x00,0x00,
    /* fmod = 0.14159265358979323960, quotient = +3 */
    0x3F,0xFC,0x00,0x00,0x90,0xFD,0xAA,0x22,0x16,0x8C,0x23,0xA0,
    0x00,0x03,0x00,0x00,

    /*** 50: 4.39822971502571053500 % 1.00000000000000000000 ***/
    0x40,0x01,0x00,0x00,0x8C,0xBE,0x4C,0x3E,0x4A,0x96,0x21,0x8F,
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = 0.39822971502571053540, quotient = +4 */
    0x3F,0xFD,0x00,0x00,0xCB,0xE4,0xC3,0xE4,0xA9,0x62,0x18,0xF0,
    0x00,0x04,0x00,0x00,
    /* fmod = 0.39822971502571053540, quotient = +4 */
    0x3F,0xFD,0x00,0x00,0xCB,0xE4,0xC3,0xE4,0xA9,0x62,0x18,0xF0,
    0x00,0x04,0x00,0x00,

    /*** 51: 4.71238898038468986000 % 1.00000000000000000000 ***/
    0x40,0x01,0x00,0x00,0x96,0xCB,0xE3,0xF9,0x99,0x0E,0x91,0xAC,
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = -0.28761101961531014040, quotient = +5 */
    0xBF,0xFD,0x00,0x00,0x93,0x41,0xC0,0x66,0x6F,0x16,0xE5,0x40,
    0x08,0x05,0x00,0x00,
    /* fmod = 0.71238898038468985960, quotient = +4 */
    0x3F,0xFE,0x00,0x00,0xB6,0x5F,0x1F,0xCC,0xC8,0x74,0x8D,0x60,
    0x00,0x04,0x00,0x00,

    /*** 52: 5.02654824574366918300 % 1.00000000000000000000 ***/
    0x40,0x01,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = 0.02654824574366918336, quotient = +5 */
    0x3F,0xF9,0x00,0x00,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,0x00,
    0x00,0x05,0x00,0x00,
    /* fmod = 0.02654824574366918336, quotient = +5 */
    0x3F,0xF9,0x00,0x00,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,0x00,
    0x00,0x05,0x00,0x00,

    /*** 53: 5.65486677646162783100 % 1.00000000000000000000 ***/
    0x40,0x01,0x00,0x00,0xB4,0xF4,0xAB,0x2B,0x84,0x77,0xE2,0x01,
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = -0.34513322353837216870, quotient = +6 */
    0xBF,0xFD,0x00,0x00,0xB0,0xB5,0x4D,0x47,0xB8,0x81,0xDF,0xF0,
    0x08,0x06,0x00,0x00,
    /* fmod = 0.65486677646162783130, quotient = +5 */
    0x3F,0xFE,0x00,0x00,0xA7,0xA5,0x59,0x5C,0x23,0xBF,0x10,0x08,
    0x00,0x05,0x00,0x00,

    /*** 54: 6.59734457253856580300 % 1.00000000000000000000 ***/
    0x40,0x01,0x00,0x00,0xD3,0x1D,0x72,0x5D,0x6F,0xE1,0x32,0x56,
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = -0.40265542746143419710, quotient = +7 */
    0xBF,0xFD,0x00,0x00,0xCE,0x28,0xDA,0x29,0x01,0xEC,0xDA,0xA0,
    0x08,0x07,0x00,0x00,
    /* fmod = 0.59734457253856580290, quotient = +6 */
    0x3F,0xFE,0x00,0x00,0x98,0xEB,0x92,0xEB,0x7F,0x09,0x92,0xB0,
    0x00,0x06,0x00,0x00,

    /*** 55: 7.53982236861550377500 % 1.00000000000000000000 ***/
    0x40,0x01,0x00,0x00,0xF1,0x46,0x39,0x8F,0x5B,0x4A,0x82,0xAD,
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = -0.46017763138449622450, quotient = +8 */
    0xBF,0xFD,0x00,0x00,0xEB,0x9C,0x67,0x0A,0x4B,0x57,0xD5,0x30,
    0x08,0x08,0x00,0x00,
    /* fmod = 0.53982236861550377550, quotient = +7 */
    0x3F,0xFE,0x00,0x00,0x8A,0x31,0xCC,0x7A,0xDA,0x54,0x15,0x68,
    0x00,0x07,0x00,0x00,

    /*** 56: 8.16814089933346242300 % 1.00000000000000000000 ***/
    0x40,0x02,0x00,0x00,0x82,0xB0,0xB4,0x82,0xFC,0x1D,0xB1,0x72,
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = 0.16814089933346242250, quotient = +8 */
    0x3F,0xFC,0x00,0x00,0xAC,0x2D,0x20,0xBF,0x07,0x6C,0x5C,0x80,
    0x00,0x08,0x00,0x00,
    /* fmod = 0.16814089933346242250, quotient = +8 */
    0x3F,0xFC,0x00,0x00,0xAC,0x2D,0x20,0xBF,0x07,0x6C,0x5C,0x80,
    0x00,0x08,0x00,0x00,

    /*** 57: 9.11061869541040039500 % 1.00000000000000000000 ***/
    0x40,0x02,0x00,0x00,0x91,0xC5,0x18,0x1B,0xF1,0xD2,0x59,0x9E,
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = 0.11061869541040039550, quotient = +9 */
    0x3F,0xFB,0x00,0x00,0xE2,0x8C,0x0D,0xF8,0xE9,0x2C,0xCF,0x00,
    0x00,0x09,0x00,0x00,
    /* fmod = 0.11061869541040039550, quotient = +9 */
    0x3F,0xFB,0x00,0x00,0xE2,0x8C,0x0D,0xF8,0xE9,0x2C,0xCF,0x00,
    0x00,0x09,0x00,0x00,

    /*** 58: 9.42477796076937971900 % 1.00000000000000000000 ***/
    0x40,0x02,0x00,0x00,0x96,0xCB,0xE3,0xF9,0x99,0x0E,0x91,0xAC,
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = 0.42477796076937971920, quotient = +9 */
    0x3F,0xFD,0x00,0x00,0xD9,0x7C,0x7F,0x33,0x21,0xD2,0x35,0x80,
    0x00,0x09,0x00,0x00,
    /* fmod = 0.42477796076937971920, quotient = +9 */
    0x3F,0xFD,0x00,0x00,0xD9,0x7C,0x7F,0x33,0x21,0xD2,0x35,0x80,
    0x00,0x09,0x00,0x00,

    /*** 59: 9.73893722612835904200 % 1.00000000000000000000 ***/
    0x40,0x02,0x00,0x00,0x9B,0xD2,0xAF,0xD7,0x40,0x4A,0xC9,0xB9,
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    /* frem = -0.26106277387164095790, quotient = +10 */
    0xBF,0xFD,0x00,0x00,0x85,0xAA,0x05,0x17,0xF6,0xA6,0xC8,0xE0,
    0x08,0x0A,0x00,0x00,
    /* fmod = 0.73893722612835904210, quotient = +9 */
    0x3F,0xFE,0x00,0x00,0xBD,0x2A,0xFD,0x74,0x04,0xAC,0x9B,0x90,
    0x00,0x09,0x00,0x00,

    /*** 60: -2.35619449019234493000 % 1.57079632679489662000 ***/
    0xC0,0x00,0x00,0x00,0x96,0xCB,0xE3,0xF9,0x99,0x0E,0x91,0xAC,
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.78539816339744830980, quotient = -2 */
    0x3F,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x38,
    0x00,0x82,0x00,0x00,
    /* fmod = -0.78539816339744831000, quotient = -1 */
    0xBF,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3C,
    0x08,0x81,0x00,0x00,

    /*** 61: -1.57079632679489662000 % 1.57079632679489662000 ***/
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -0.00000000000000000000, quotient = -1 */
    0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x0C,0x81,0x00,0x00,
    /* fmod = -0.00000000000000000000, quotient = -1 */
    0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x0C,0x81,0x00,0x00,

    /*** 62: -1.00000000000000000000 % 1.57079632679489662000 ***/
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.57079632679489661980, quotient = -1 */
    0x3F,0xFE,0x00,0x00,0x92,0x1F,0xB5,0x44,0x42,0xD1,0x84,0x74,
    0x00,0x81,0x00,0x00,
    /* fmod = -1.00000000000000000000, quotient = -0 */
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x08,0x80,0x00,0x00,

    /*** 63: -0.78539816339744830990 % 1.57079632679489662000 ***/
    0xBF,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -0.78539816339744830990, quotient = -0 */
    0xBF,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x08,0x80,0x00,0x00,
    /* fmod = -0.78539816339744830990, quotient = -0 */
    0xBF,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x08,0x80,0x00,0x00,

    /*** 64: 0.00000000000000000000 % 1.57079632679489662000 ***/
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.00000000000000000000, quotient = +0 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x00,0x00,0x00,
    /* fmod = 0.00000000000000000000, quotient = +0 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x00,0x00,0x00,

    /*** 65: 0.78539816339744830990 % 1.57079632679489662000 ***/
    0x3F,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.78539816339744830990, quotient = +0 */
    0x3F,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x00,0x00,0x00,0x00,
    /* fmod = 0.78539816339744830990, quotient = +0 */
    0x3F,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x00,0x00,0x00,0x00,

    /*** 66: 1.00000000000000000000 % 1.57079632679489662000 ***/
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -0.57079632679489661980, quotient = +1 */
    0xBF,0xFE,0x00,0x00,0x92,0x1F,0xB5,0x44,0x42,0xD1,0x84,0x74,
    0x08,0x01,0x00,0x00,
    /* fmod = 1.00000000000000000000, quotient = +0 */
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,

    /*** 67: 1.57079632679489662000 % 1.57079632679489662000 ***/
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.00000000000000000000, quotient = +1 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x01,0x00,0x00,
    /* fmod = 0.00000000000000000000, quotient = +1 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x01,0x00,0x00,

    /*** 68: 2.35619449019234493000 % 1.57079632679489662000 ***/
    0x40,0x00,0x00,0x00,0x96,0xCB,0xE3,0xF9,0x99,0x0E,0x91,0xAC,
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -0.78539816339744830980, quotient = +2 */
    0xBF,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x38,
    0x08,0x02,0x00,0x00,
    /* fmod = 0.78539816339744831000, quotient = +1 */
    0x3F,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3C,
    0x00,0x01,0x00,0x00,

    /*** 69: 3.14159265358979324000 % 1.57079632679489662000 ***/
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.00000000000000000000, quotient = +2 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x02,0x00,0x00,
    /* fmod = 0.00000000000000000000, quotient = +2 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x02,0x00,0x00,

    /*** 70: 4.39822971502571053500 % 1.57079632679489662000 ***/
    0x40,0x01,0x00,0x00,0x8C,0xBE,0x4C,0x3E,0x4A,0x96,0x21,0x8F,
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -0.31415926535897932400, quotient = +3 */
    0xBF,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,
    0x08,0x03,0x00,0x00,
    /* fmod = 1.25663706143591729600, quotient = +2 */
    0x3F,0xFF,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,
    0x00,0x02,0x00,0x00,

    /*** 71: 4.71238898038468986000 % 1.57079632679489662000 ***/
    0x40,0x01,0x00,0x00,0x96,0xCB,0xE3,0xF9,0x99,0x0E,0x91,0xAC,
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.00000000000000000022, quotient = +3 */
    0x3F,0xC1,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x03,0x00,0x00,
    /* fmod = 0.00000000000000000022, quotient = +3 */
    0x3F,0xC1,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x03,0x00,0x00,

    /*** 72: 5.02654824574366918300 % 1.57079632679489662000 ***/
    0x40,0x01,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.31415926535897932400, quotient = +3 */
    0x3F,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,
    0x00,0x03,0x00,0x00,
    /* fmod = 0.31415926535897932400, quotient = +3 */
    0x3F,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,
    0x00,0x03,0x00,0x00,

    /*** 73: 5.65486677646162783100 % 1.57079632679489662000 ***/
    0x40,0x01,0x00,0x00,0xB4,0xF4,0xAB,0x2B,0x84,0x77,0xE2,0x01,
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -0.62831853071795864790, quotient = +4 */
    0xBF,0xFE,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,
    0x08,0x04,0x00,0x00,
    /* fmod = 0.94247779607693797190, quotient = +3 */
    0x3F,0xFE,0x00,0x00,0xF1,0x46,0x39,0x8F,0x5B,0x4A,0x82,0xAC,
    0x00,0x03,0x00,0x00,

    /*** 74: 6.59734457253856580300 % 1.57079632679489662000 ***/
    0x40,0x01,0x00,0x00,0xD3,0x1D,0x72,0x5D,0x6F,0xE1,0x32,0x56,
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.31415926535897932370, quotient = +4 */
    0x3F,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC0,
    0x00,0x04,0x00,0x00,
    /* fmod = 0.31415926535897932370, quotient = +4 */
    0x3F,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC0,
    0x00,0x04,0x00,0x00,

    /*** 75: 7.53982236861550377500 % 1.57079632679489662000 ***/
    0x40,0x01,0x00,0x00,0xF1,0x46,0x39,0x8F,0x5B,0x4A,0x82,0xAD,
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -0.31415926535897932350, quotient = +5 */
    0xBF,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xB8,
    0x08,0x05,0x00,0x00,
    /* fmod = 1.25663706143591729600, quotient = +4 */
    0x3F,0xFF,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xCC,
    0x00,0x04,0x00,0x00,

    /*** 76: 8.16814089933346242300 % 1.57079632679489662000 ***/
    0x40,0x02,0x00,0x00,0x82,0xB0,0xB4,0x82,0xFC,0x1D,0xB1,0x72,
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.31415926535897932350, quotient = +5 */
    0x3F,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xB8,
    0x00,0x05,0x00,0x00,
    /* fmod = 0.31415926535897932350, quotient = +5 */
    0x3F,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xB8,
    0x00,0x05,0x00,0x00,

    /*** 77: 9.11061869541040039500 % 1.57079632679489662000 ***/
    0x40,0x02,0x00,0x00,0x91,0xC5,0x18,0x1B,0xF1,0xD2,0x59,0x9E,
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -0.31415926535897932330, quotient = +6 */
    0xBF,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xB0,
    0x08,0x06,0x00,0x00,
    /* fmod = 1.25663706143591729600, quotient = +5 */
    0x3F,0xFF,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xCE,
    0x00,0x05,0x00,0x00,

    /*** 78: 9.42477796076937971900 % 1.57079632679489662000 ***/
    0x40,0x02,0x00,0x00,0x96,0xCB,0xE3,0xF9,0x99,0x0E,0x91,0xAC,
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.00000000000000000043, quotient = +6 */
    0x3F,0xC2,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x06,0x00,0x00,
    /* fmod = 0.00000000000000000043, quotient = +6 */
    0x3F,0xC2,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x06,0x00,0x00,

    /*** 79: 9.73893722612835904200 % 1.57079632679489662000 ***/
    0x40,0x02,0x00,0x00,0x9B,0xD2,0xAF,0xD7,0x40,0x4A,0xC9,0xB9,
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.31415926535897932330, quotient = +6 */
    0x3F,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xB0,
    0x00,0x06,0x00,0x00,
    /* fmod = 0.31415926535897932330, quotient = +6 */
    0x3F,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xB0,
    0x00,0x06,0x00,0x00,

    /*** 80: -2.35619449019234493000 % 3.14159265358979324000 ***/
    0xC0,0x00,0x00,0x00,0x96,0xCB,0xE3,0xF9,0x99,0x0E,0x91,0xAC,
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.78539816339744830980, quotient = -1 */
    0x3F,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x38,
    0x00,0x81,0x00,0x00,
    /* fmod = -2.35619449019234493000, quotient = -0 */
    0xC0,0x00,0x00,0x00,0x96,0xCB,0xE3,0xF9,0x99,0x0E,0x91,0xAC,
    0x08,0x80,0x00,0x00,

    /*** 81: -1.57079632679489662000 % 3.14159265358979324000 ***/
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -1.57079632679489662000, quotient = -0 */
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x08,0x80,0x00,0x00,
    /* fmod = -1.57079632679489662000, quotient = -0 */
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x08,0x80,0x00,0x00,

    /*** 82: -1.00000000000000000000 % 3.14159265358979324000 ***/
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -1.00000000000000000000, quotient = -0 */
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x08,0x80,0x00,0x00,
    /* fmod = -1.00000000000000000000, quotient = -0 */
    0xBF,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x08,0x80,0x00,0x00,

    /*** 83: -0.78539816339744830990 % 3.14159265358979324000 ***/
    0xBF,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -0.78539816339744830990, quotient = -0 */
    0xBF,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x08,0x80,0x00,0x00,
    /* fmod = -0.78539816339744830990, quotient = -0 */
    0xBF,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x08,0x80,0x00,0x00,

    /*** 84: 0.00000000000000000000 % 3.14159265358979324000 ***/
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.00000000000000000000, quotient = +0 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x00,0x00,0x00,
    /* fmod = 0.00000000000000000000, quotient = +0 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x00,0x00,0x00,

    /*** 85: 0.78539816339744830990 % 3.14159265358979324000 ***/
    0x3F,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.78539816339744830990, quotient = +0 */
    0x3F,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x00,0x00,0x00,0x00,
    /* fmod = 0.78539816339744830990, quotient = +0 */
    0x3F,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x00,0x00,0x00,0x00,

    /*** 86: 1.00000000000000000000 % 3.14159265358979324000 ***/
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 1.00000000000000000000, quotient = +0 */
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,
    /* fmod = 1.00000000000000000000, quotient = +0 */
    0x3F,0xFF,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,

    /*** 87: 1.57079632679489662000 % 3.14159265358979324000 ***/
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 1.57079632679489662000, quotient = +0 */
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x00,0x00,0x00,0x00,
    /* fmod = 1.57079632679489662000, quotient = +0 */
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x00,0x00,0x00,0x00,

    /*** 88: 2.35619449019234493000 % 3.14159265358979324000 ***/
    0x40,0x00,0x00,0x00,0x96,0xCB,0xE3,0xF9,0x99,0x0E,0x91,0xAC,
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -0.78539816339744830980, quotient = +1 */
    0xBF,0xFE,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x38,
    0x08,0x01,0x00,0x00,
    /* fmod = 2.35619449019234493000, quotient = +0 */
    0x40,0x00,0x00,0x00,0x96,0xCB,0xE3,0xF9,0x99,0x0E,0x91,0xAC,
    0x00,0x00,0x00,0x00,

    /*** 89: 3.14159265358979324000 % 3.14159265358979324000 ***/
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.00000000000000000000, quotient = +1 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x01,0x00,0x00,
    /* fmod = 0.00000000000000000000, quotient = +1 */
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x04,0x01,0x00,0x00,

    /*** 90: 4.39822971502571053500 % 3.14159265358979324000 ***/
    0x40,0x01,0x00,0x00,0x8C,0xBE,0x4C,0x3E,0x4A,0x96,0x21,0x8F,
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 1.25663706143591729600, quotient = +1 */
    0x3F,0xFF,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,
    0x00,0x01,0x00,0x00,
    /* fmod = 1.25663706143591729600, quotient = +1 */
    0x3F,0xFF,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,
    0x00,0x01,0x00,0x00,

    /*** 91: 4.71238898038468986000 % 3.14159265358979324000 ***/
    0x40,0x01,0x00,0x00,0x96,0xCB,0xE3,0xF9,0x99,0x0E,0x91,0xAC,
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -1.57079632679489662000, quotient = +2 */
    0xBF,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x38,
    0x08,0x02,0x00,0x00,
    /* fmod = 1.57079632679489662000, quotient = +1 */
    0x3F,0xFF,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3C,
    0x00,0x01,0x00,0x00,

    /*** 92: 5.02654824574366918300 % 3.14159265358979324000 ***/
    0x40,0x01,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -1.25663706143591729600, quotient = +2 */
    0xBF,0xFF,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,
    0x08,0x02,0x00,0x00,
    /* fmod = 1.88495559215387594400, quotient = +1 */
    0x3F,0xFF,0x00,0x00,0xF1,0x46,0x39,0x8F,0x5B,0x4A,0x82,0xAC,
    0x00,0x01,0x00,0x00,

    /*** 93: 5.65486677646162783100 % 3.14159265358979324000 ***/
    0x40,0x01,0x00,0x00,0xB4,0xF4,0xAB,0x2B,0x84,0x77,0xE2,0x01,
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -0.62831853071795864790, quotient = +2 */
    0xBF,0xFE,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,
    0x08,0x02,0x00,0x00,
    /* fmod = 2.51327412287183459200, quotient = +1 */
    0x40,0x00,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC8,
    0x00,0x01,0x00,0x00,

    /*** 94: 6.59734457253856580300 % 3.14159265358979324000 ***/
    0x40,0x01,0x00,0x00,0xD3,0x1D,0x72,0x5D,0x6F,0xE1,0x32,0x56,
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.31415926535897932370, quotient = +2 */
    0x3F,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC0,
    0x00,0x02,0x00,0x00,
    /* fmod = 0.31415926535897932370, quotient = +2 */
    0x3F,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xC0,
    0x00,0x02,0x00,0x00,

    /*** 95: 7.53982236861550377500 % 3.14159265358979324000 ***/
    0x40,0x01,0x00,0x00,0xF1,0x46,0x39,0x8F,0x5B,0x4A,0x82,0xAD,
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 1.25663706143591729600, quotient = +2 */
    0x3F,0xFF,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xCC,
    0x00,0x02,0x00,0x00,
    /* fmod = 1.25663706143591729600, quotient = +2 */
    0x3F,0xFF,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xCC,
    0x00,0x02,0x00,0x00,

    /*** 96: 8.16814089933346242300 % 3.14159265358979324000 ***/
    0x40,0x02,0x00,0x00,0x82,0xB0,0xB4,0x82,0xFC,0x1D,0xB1,0x72,
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -1.25663706143591729600, quotient = +3 */
    0xBF,0xFF,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xCC,
    0x08,0x03,0x00,0x00,
    /* fmod = 1.88495559215387594300, quotient = +2 */
    0x3F,0xFF,0x00,0x00,0xF1,0x46,0x39,0x8F,0x5B,0x4A,0x82,0xA8,
    0x00,0x02,0x00,0x00,

    /*** 97: 9.11061869541040039500 % 3.14159265358979324000 ***/
    0x40,0x02,0x00,0x00,0x91,0xC5,0x18,0x1B,0xF1,0xD2,0x59,0x9E,
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = -0.31415926535897932330, quotient = +3 */
    0xBF,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xB0,
    0x08,0x03,0x00,0x00,
    /* fmod = 2.82743338823081391600, quotient = +2 */
    0x40,0x00,0x00,0x00,0xB4,0xF4,0xAB,0x2B,0x84,0x77,0xE2,0x04,
    0x00,0x02,0x00,0x00,

    /*** 98: 9.42477796076937971900 % 3.14159265358979324000 ***/
    0x40,0x02,0x00,0x00,0x96,0xCB,0xE3,0xF9,0x99,0x0E,0x91,0xAC,
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.00000000000000000043, quotient = +3 */
    0x3F,0xC2,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x03,0x00,0x00,
    /* fmod = 0.00000000000000000043, quotient = +3 */
    0x3F,0xC2,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x03,0x00,0x00,

    /*** 99: 9.73893722612835904200 % 3.14159265358979324000 ***/
    0x40,0x02,0x00,0x00,0x9B,0xD2,0xAF,0xD7,0x40,0x4A,0xC9,0xB9,
    0x40,0x00,0x00,0x00,0xC9,0x0F,0xDA,0xA2,0x21,0x68,0xC2,0x3A,
    /* frem = 0.31415926535897932330, quotient = +3 */
    0x3F,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xB0,
    0x00,0x03,0x00,0x00,
    /* fmod = 0.31415926535897932330, quotient = +3 */
    0x3F,0xFD,0x00,0x00,0xA0,0xD9,0x7B,0xB4,0xE7,0x87,0x01,0xB0,
    0x00,0x03,0x00,0x00,

    /* End of fmodrem test table */

    /* Start of test program */
    0x70, 0x00,                                /* moveq #0, %d0 */
    0xf2, 0x00, 0x90, 0x00,                    /* fmovel %d0, %fpcr */
    0x20, 0x7c, 0x40, 0x80, 0x00, 0x00,        /* moveal #0x40800000, %a0 */

    /* :loop */
    /* Load FP0 */
    0x22, 0x48,                                /* moveal %a0, %a1 */
    0xd2, 0xfc, 0x00, 0x0c,                    /* addaw #12, %a1 */
    0x2f, 0x21,                                /* movel %a1@-, %sp@- */
    0x2f, 0x21,                                /* movel %a1@-, %sp@- */
    0x2f, 0x21,                                /* movel %a1@-, %sp@- */
    0xf2, 0x1f, 0x48, 0x00,                    /* fmovex %sp@+, %fp0 */

    /* Load FP1 */
    0x22, 0x48,                                /* moveal %a0, %a1 */
    0xd2, 0xfc, 0x00, 0x18,                    /* addaw #24, %a1 */
    0x2f, 0x21,                                /* movel %a1@-, %sp@- */
    0x2f, 0x21,                                /* movel %a1@-, %sp@- */
    0x2f, 0x21,                                /* movel %a1@-, %sp@- */
    0xf2, 0x1f, 0x48, 0x80,                    /* fmovex %sp@+, %fp1 */

    /* fremx result to FP2 */
    0xf2, 0x00, 0x88, 0x00,                    /* fmovel %d0, %fpsr */
    0xf2, 0x00, 0x01, 0x00,                    /* fmovex %fp0, %fp2 */
    0xf2, 0x00, 0x05, 0x25,                    /* fremx %fp1, %fp2 */

    /* Compare fremx result with expected: %d6 non-zero if error */
    0x7c, 0x00,                                /* moveq #0, %d6 */
    0x22, 0x48,                                /* moveal %a0, %a1 */
    0xd2, 0xfc, 0x00, 0x18,                    /* addaw #24, %a1 */
    0xf2, 0x27, 0x69, 0x00,                    /* fmovex %fp2, %sp@- */

    /* Bytes 0-3 */
    0x24, 0x1f,                                /* movel %sp@+, %d2 */
    0x22, 0x19,                                /* movel %a1@+, %d1 */
    0xb4, 0x81,                                /* cmpl %d1, %d2 */
    0x67, 0x04,                                /* beqs +0x4 */
    0x7c, 0x01,                                /* moveq #1, %d6 (error 1) */
#if 1
    0x60, 0xfe,                                /* bras -2 (loop forever) */
#else
    0x4e, 0x71,                                /* nop, carry on */
#endif

    /* Bytes 4-7 */
    0x24, 0x1f,                                /* movel %sp@+, %d2 */
    0x22, 0x19,                                /* movel %a1@+, %d1 */
    0xb4, 0x81,                                /* cmpl %d1, %d2 */
    0x67, 0x04,                                /* beqs +0x4 */
    0x7c, 0x01,                                /* moveq #1,%d6 (error 1) */
#if 1
    0x60, 0xfe,                                /* bras -2 (loop forever) */
#else
    0x4e, 0x71,                                /* nop, carry on */
#endif

    /* Bytes 8-11 */
    0x24, 0x1f,                                /* movel %sp@+, %d2 */
    0x22, 0x19,                                /* movel %a1@+, %d1 */
    0xb4, 0x81,                                /* cmpl %d1, %d2 */
    0x67, 0x04,                                /* beqs +0x4 */
    0x7c, 0x01,                                /* moveq #1,%d6 (error 1) */
#if 1
    0x60, 0xfe,                                /* bras -2 (loop forever) */
#else
    0x4e, 0x71,                                /* nop, carry on */
#endif

    /* Compare fremx fpsr with expected: %d6 non-zero if error */
    0x22, 0x48,                                /* moveal %a0, %a1 */
    0xd2, 0xfc, 0x00, 0x24,                    /* addaw #36, %a1 */
    0xf2, 0x02, 0xa8, 0x00,                    /* fmovel %fpsr,%d2 */
    0x22, 0x19,                                /* movel %a1@+, %d1 */

    0xb4, 0x81,                                /* cmpl %d1, %d2 */
    0x67, 0x04,                                /* beqs +0x4 */
    0x7c, 0x02,                                /* moveq #2, %d6 (error 2) */
#if 1
    0x60, 0xfe,                                /* bras -2 (loop forever) */
#else
    0x4e, 0x71,                                /* nop, carry on */
#endif

    /* fmodx result to FP3 */
    0xf2, 0x00, 0x88, 0x00,                    /* fmovel %d0, %fpsr */
    0xf2, 0x00, 0x01, 0x80,                    /* fmovex %fp0, %fp3 */
    0xf2, 0x00, 0x05, 0xa1,                    /* fmodx %fp1, %fp3 */

    /* Compare fmodx result with expected: %d6 non-zero if error */
    0x22, 0x48,                                /* moveal %a0, %a1 */
    0xd2, 0xfc, 0x00, 0x28,                    /* addaw #40, %a1 */
    0xf2, 0x27, 0x69, 0x80,                    /* fmovex %fp3, %sp@- */

    /* Bytes 0-3 */
    0x24, 0x1f,                                /* movel %sp@+, %d2 */
    0x22, 0x19,                                /* movel %a1@+, %d1 */
    0xb4, 0x81,                                /* cmpl %d1, %d2 */
    0x67, 0x04,                                /* beqs +0x4 */
    0x7c, 0x03,                                /* moveq #1, %d6 (error 3) */
#if 1
    0x60, 0xfe,                                /* bras -2 (loop forever) */
#else
    0x4e, 0x71,                                /* nop, carry on */
#endif

    /* Bytes 4-7 */
    0x24, 0x1f,                                /* movel %sp@+, %d2 */
    0x22, 0x19,                                /* movel %a1@+, %d1 */
    0xb4, 0x81,                                /* cmpl %d1, %d2 */
    0x67, 0x04,                                /* beqs +0x4 */
    0x7c, 0x03,                                /* moveq #1, %d6 (error 3) */
#if 1
    0x60, 0xfe,                                /* bras -2 (loop forever) */
#else
    0x4e, 0x71,                                /* nop, carry on */
#endif

    /* Bytes 8-11 */
    0x24, 0x1f,                                /* movel %sp@+, %d2 */
    0x22, 0x19,                                /* movel %a1@+, %d1 */
    0xb4, 0x81,                                /* cmpl %d1, %d2 */
    0x67, 0x04,                                /* beqs +0x4 */
    0x7c, 0x03,                                /* moveq #1, %d6 (error 3) */
#if 1
    0x60, 0xfe,                                /* bras -2 (loop forever) */
#else
    0x4e, 0x71,                                /* nop, carry on */
#endif

    /* Compare fmodx fpsr with expected: %d6 non-zero if error */
    0x22, 0x48,                                /* moveal %a0, %a1 */
    0xd2, 0xfc, 0x00, 0x34,                    /* addaw #52, %a1 */
    0xf2, 0x02, 0xa8, 0x00,                    /* fmovel %fpsr,%d2 */
    0x22, 0x19,                                /* movel %a1@+, %d1 */

    0xb4, 0x81,                                /* cmpl %d1, %d2 */
    0x67, 0x04,                                /* beqs +0x4 */
    0x7c, 0x04,                                /* moveq #4, %d6 (error 4) */
#if 1
    0x60, 0xfe,                                /* bras -2 (loop forever) */
#else
    0x4e, 0x71,                                /* nop, carry on */
#endif

    /* Move to next test */
    0xd0, 0xfc, 0x00, 0x38,                    /* addaw #56, %a0 */

    /* Check to see if we have completed all 100 tests */
    0x06, 0x47, 0x00, 0x01,                    /* addiw #1, %d7 */
    0x0c, 0x87, 0x00, 0x00, 0x00, 0x63,        /* cmpil #99, %d7 */
    0x6f, 0x00, 0xff, 0x32,                    /* blew :loop */

    /* Done! */
    0x60, 0xfe,                                /* bras -2 (loop forever) */
};

static void q800_init(MachineState *machine)
{
    M68kCPU *cpu = NULL;
    MemoryRegion *rom;
    MemoryRegion *io;
    MemoryRegion *dp8393x_prom = g_new(MemoryRegion, 1);
    uint8_t *prom;
    const int io_slice_nb = (IO_SIZE / IO_SLICE) - 1;
    int i, checksum;
    ram_addr_t ram_size = machine->ram_size;
    DeviceState *dev;
    DeviceState *via1_dev, *via2_dev;
    DeviceState *escc_orgate;
    SysBusESPState *sysbus_esp;
    ESPState *esp;
    SysBusDevice *sysbus;
    BusState *adb_bus;
    NubusBus *nubus;
    DeviceState *glue;
    DriveInfo *dinfo;

    if (ram_size > 1 * GiB) {
        error_report("Too much memory for this machine: %" PRId64 " MiB, "
                     "maximum 1024 MiB", ram_size / MiB);
        exit(1);
    }

    /* init CPUs */
    cpu = M68K_CPU(cpu_create(machine->cpu_type));
    qemu_register_reset(main_cpu_reset, cpu);

    /* RAM */
    memory_region_add_subregion(get_system_memory(), 0, machine->ram);

    /*
     * Memory from IO_BASE to IO_BASE + IO_SLICE is repeated
     * from IO_BASE + IO_SLICE to IO_BASE + IO_SIZE
     */
    io = g_new(MemoryRegion, io_slice_nb);
    for (i = 0; i < io_slice_nb; i++) {
        char *name = g_strdup_printf("mac_m68k.io[%d]", i + 1);

        memory_region_init_alias(&io[i], NULL, name, get_system_memory(),
                                 IO_BASE, IO_SLICE);
        memory_region_add_subregion(get_system_memory(),
                                    IO_BASE + (i + 1) * IO_SLICE, &io[i]);
        g_free(name);
    }

    /* IRQ Glue */
    glue = qdev_new(TYPE_GLUE);
    object_property_set_link(OBJECT(glue), "cpu", OBJECT(cpu), &error_abort);
    sysbus_realize_and_unref(SYS_BUS_DEVICE(glue), &error_fatal);

    /* VIA 1 */
    via1_dev = qdev_new(TYPE_MOS6522_Q800_VIA1);
    dinfo = drive_get(IF_MTD, 0, 0);
    if (dinfo) {
        qdev_prop_set_drive(via1_dev, "drive", blk_by_legacy_dinfo(dinfo));
    }
    sysbus = SYS_BUS_DEVICE(via1_dev);
    sysbus_realize_and_unref(sysbus, &error_fatal);
    sysbus_mmio_map(sysbus, 1, VIA_BASE);
    sysbus_connect_irq(sysbus, 0, qdev_get_gpio_in(glue, GLUE_IRQ_IN_VIA1));
    /* A/UX mode */
    qdev_connect_gpio_out(via1_dev, 0,
                          qdev_get_gpio_in_named(glue, "auxmode", 0));

    adb_bus = qdev_get_child_bus(via1_dev, "adb.0");
    dev = qdev_new(TYPE_ADB_KEYBOARD);
    qdev_realize_and_unref(dev, adb_bus, &error_fatal);
    dev = qdev_new(TYPE_ADB_MOUSE);
    qdev_realize_and_unref(dev, adb_bus, &error_fatal);

    /* VIA 2 */
    via2_dev = qdev_new(TYPE_MOS6522_Q800_VIA2);
    sysbus = SYS_BUS_DEVICE(via2_dev);
    sysbus_realize_and_unref(sysbus, &error_fatal);
    sysbus_mmio_map(sysbus, 1, VIA_BASE + VIA_SIZE);
    sysbus_connect_irq(sysbus, 0, qdev_get_gpio_in(glue, GLUE_IRQ_IN_VIA2));

    /* MACSONIC */

    if (nb_nics > 1) {
        error_report("q800 can only have one ethernet interface");
        exit(1);
    }

    qemu_check_nic_model(&nd_table[0], "dp83932");

    /*
     * MacSonic driver needs an Apple MAC address
     * Valid prefix are:
     * 00:05:02 Apple
     * 00:80:19 Dayna Communications, Inc.
     * 00:A0:40 Apple
     * 08:00:07 Apple
     * (Q800 use the last one)
     */
    nd_table[0].macaddr.a[0] = 0x08;
    nd_table[0].macaddr.a[1] = 0x00;
    nd_table[0].macaddr.a[2] = 0x07;

    dev = qdev_new("dp8393x");
    qdev_set_nic_properties(dev, &nd_table[0]);
    qdev_prop_set_uint8(dev, "it_shift", 2);
    qdev_prop_set_bit(dev, "big_endian", true);
    object_property_set_link(OBJECT(dev), "dma_mr",
                             OBJECT(get_system_memory()), &error_abort);
    sysbus = SYS_BUS_DEVICE(dev);
    sysbus_realize_and_unref(sysbus, &error_fatal);
    sysbus_mmio_map(sysbus, 0, SONIC_BASE);
    sysbus_connect_irq(sysbus, 0, qdev_get_gpio_in(glue, GLUE_IRQ_IN_SONIC));

    memory_region_init_rom(dp8393x_prom, NULL, "dp8393x-q800.prom",
                           SONIC_PROM_SIZE, &error_fatal);
    memory_region_add_subregion(get_system_memory(), SONIC_PROM_BASE,
                                dp8393x_prom);

    /* Add MAC address with valid checksum to PROM */
    prom = memory_region_get_ram_ptr(dp8393x_prom);
    checksum = 0;
    for (i = 0; i < 6; i++) {
        prom[i] = revbit8(nd_table[0].macaddr.a[i]);
        checksum ^= prom[i];
    }
    prom[7] = 0xff - checksum;

    /* SCC */

    dev = qdev_new(TYPE_ESCC);
    qdev_prop_set_uint32(dev, "disabled", 0);
    qdev_prop_set_uint32(dev, "frequency", MAC_CLOCK);
    qdev_prop_set_uint32(dev, "it_shift", 1);
    qdev_prop_set_bit(dev, "bit_swap", true);
    qdev_prop_set_chr(dev, "chrA", serial_hd(0));
    qdev_prop_set_chr(dev, "chrB", serial_hd(1));
    qdev_prop_set_uint32(dev, "chnBtype", 0);
    qdev_prop_set_uint32(dev, "chnAtype", 0);
    sysbus = SYS_BUS_DEVICE(dev);
    sysbus_realize_and_unref(sysbus, &error_fatal);

    /* Logically OR both its IRQs together */
    escc_orgate = DEVICE(object_new(TYPE_OR_IRQ));
    object_property_set_int(OBJECT(escc_orgate), "num-lines", 2, &error_fatal);
    qdev_realize_and_unref(escc_orgate, NULL, &error_fatal);
    sysbus_connect_irq(sysbus, 0, qdev_get_gpio_in(escc_orgate, 0));
    sysbus_connect_irq(sysbus, 1, qdev_get_gpio_in(escc_orgate, 1));
    qdev_connect_gpio_out(DEVICE(escc_orgate), 0,
                          qdev_get_gpio_in(glue, GLUE_IRQ_IN_ESCC));
    sysbus_mmio_map(sysbus, 0, SCC_BASE);

    /* SCSI */

    dev = qdev_new(TYPE_SYSBUS_ESP);
    sysbus_esp = SYSBUS_ESP(dev);
    esp = &sysbus_esp->esp;
    esp->dma_memory_read = NULL;
    esp->dma_memory_write = NULL;
    esp->dma_opaque = NULL;
    sysbus_esp->it_shift = 4;
    esp->dma_enabled = 1;

    sysbus = SYS_BUS_DEVICE(dev);
    sysbus_realize_and_unref(sysbus, &error_fatal);
    /* SCSI and SCSI data IRQs are negative edge triggered */
    sysbus_connect_irq(sysbus, 0, qemu_irq_invert(qdev_get_gpio_in(via2_dev,
                                                  VIA2_IRQ_SCSI_BIT)));
    sysbus_connect_irq(sysbus, 1, qemu_irq_invert(qdev_get_gpio_in(via2_dev,
                                                  VIA2_IRQ_SCSI_DATA_BIT)));
    sysbus_mmio_map(sysbus, 0, ESP_BASE);
    sysbus_mmio_map(sysbus, 1, ESP_PDMA);

    scsi_bus_legacy_handle_cmdline(&esp->bus);

    /* SWIM floppy controller */

    dev = qdev_new(TYPE_SWIM);
    sysbus_realize_and_unref(SYS_BUS_DEVICE(dev), &error_fatal);
    sysbus_mmio_map(SYS_BUS_DEVICE(dev), 0, SWIM_BASE);

    /* NuBus */

    dev = qdev_new(TYPE_MAC_NUBUS_BRIDGE);
    qdev_prop_set_uint32(dev, "slot-available-mask",
                         Q800_NUBUS_SLOTS_AVAILABLE);
    sysbus_realize_and_unref(SYS_BUS_DEVICE(dev), &error_fatal);
    sysbus_mmio_map(SYS_BUS_DEVICE(dev), 0,
                    MAC_NUBUS_FIRST_SLOT * NUBUS_SUPER_SLOT_SIZE);
    sysbus_mmio_map(SYS_BUS_DEVICE(dev), 1, NUBUS_SLOT_BASE +
                    MAC_NUBUS_FIRST_SLOT * NUBUS_SLOT_SIZE);
    qdev_connect_gpio_out(dev, 9,
                          qdev_get_gpio_in_named(via2_dev, "nubus-irq",
                          VIA2_NUBUS_IRQ_INTVIDEO));
    for (i = 1; i < VIA2_NUBUS_IRQ_NB; i++) {
        qdev_connect_gpio_out(dev, 9 + i,
                              qdev_get_gpio_in_named(via2_dev, "nubus-irq",
                                                     VIA2_NUBUS_IRQ_9 + i));
    }

    /*
     * Since the framebuffer in slot 0x9 uses a separate IRQ, wire the unused
     * IRQ via GLUE for use by SONIC Ethernet in classic mode
     */
    qdev_connect_gpio_out(glue, GLUE_IRQ_NUBUS_9,
                          qdev_get_gpio_in_named(via2_dev, "nubus-irq",
                                                 VIA2_NUBUS_IRQ_9));

    nubus = &NUBUS_BRIDGE(dev)->bus;

    /* framebuffer in nubus slot #9 */

    dev = qdev_new(TYPE_NUBUS_MACFB);
    qdev_prop_set_uint32(dev, "slot", 9);
    qdev_prop_set_uint32(dev, "width", graphic_width);
    qdev_prop_set_uint32(dev, "height", graphic_height);
    qdev_prop_set_uint8(dev, "depth", graphic_depth);
    if (graphic_width == 1152 && graphic_height == 870) {
        qdev_prop_set_uint8(dev, "display", MACFB_DISPLAY_APPLE_21_COLOR);
    } else {
        qdev_prop_set_uint8(dev, "display", MACFB_DISPLAY_VGA);
    }
    qdev_realize_and_unref(dev, BUS(nubus), &error_fatal);


    rom = g_malloc(sizeof(*rom));
    memory_region_init_ram_ptr(rom, NULL, "m68k_fake_mac.rom",
                               sizeof(fake_mac_rom), fake_mac_rom);
    memory_region_set_readonly(rom, true);
    memory_region_add_subregion(get_system_memory(), MACROM_ADDR, rom);
}

static GlobalProperty hw_compat_q800[] = {
    { "scsi-hd", "quirk_mode_page_vendor_specific_apple", "on"},
    { "scsi-hd", "vendor", " SEAGATE" },
    { "scsi-hd", "product", "          ST225N" },
    { "scsi-hd", "ver", "1.0 " },
    { "scsi-cd", "quirk_mode_page_apple_vendor", "on"},
    { "scsi-cd", "quirk_mode_sense_rom_use_dbd", "on"},
    { "scsi-cd", "quirk_mode_page_vendor_specific_apple", "on"},
    { "scsi-cd", "quirk_mode_page_truncated", "on"},
    { "scsi-cd", "vendor", "MATSHITA" },
    { "scsi-cd", "product", "CD-ROM CR-8005" },
    { "scsi-cd", "ver", "1.0k" },
};
static const size_t hw_compat_q800_len = G_N_ELEMENTS(hw_compat_q800);

static void q800_machine_class_init(ObjectClass *oc, void *data)
{
    MachineClass *mc = MACHINE_CLASS(oc);
    mc->desc = "Macintosh Quadra 800";
    mc->init = q800_init;
    mc->default_cpu_type = M68K_CPU_TYPE_NAME("m68040");
    mc->max_cpus = 1;
    mc->block_default_type = IF_SCSI;
    mc->default_ram_id = "m68k_mac.ram";
    compat_props_add(mc->compat_props, hw_compat_q800, hw_compat_q800_len);
}

static const TypeInfo q800_machine_typeinfo = {
    .name       = MACHINE_TYPE_NAME("q800"),
    .parent     = TYPE_MACHINE,
    .class_init = q800_machine_class_init,
};

static void q800_machine_register_types(void)
{
    type_register_static(&q800_machine_typeinfo);
    type_register_static(&glue_info);
}

type_init(q800_machine_register_types)
